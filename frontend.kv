#Plantillas: widgets personalizados a usar en el fichero kv

#Label con color de fondo
<BackgroundColor@Widget>
    background_color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos
<BackgroundLabel@Label+BackgroundColor>
    background_color: 0, 0, 0, 0


#INDICE DE WIDGETS
<RootWidget>:
    HomePage:
        name: "home_page"
    TableScreen:
        name: "table_screen"
    SubmittedScreen:
        name: "submitted_screen"
    ModificarEjercicio:
        name: "modificar_ejercicio"

#WIDGETS
<HomePage>:
    GridLayout:
        cols: 1
        RelativeLayout:
            Image:
                source: "Images/pic_01.jpg"
            GridLayout:
                cols: 1
                Label:
                    #text: "Your Turn"
                    text: "Level Up"
                    font_size:'100sp'
                RelativeLayout:
                    Button:
                        id: entrenar_btn
                        text: "¡A entrenar!"
                        pos_hint: {'center_x':0.5, 'center_y':0.6}
                        size_hint: 0.25,0.15
                        font_size:'20sp'
                        on_press: root.entrenar()
        
<TableScreen>:
    Image:
        source: "Images/sea_coast_starry_sky.jpg"
        opacity: 0.5
    GridLayout:
        cols:1
        padding: 15, 15
        RelativeLayout:
            size_hint: 1,0.2
            GridLayout:
                cols: 1
                Label:
                    pos_hint: {'center_x':0.5, 'center_y':0.6}
                    font_size:'30sp'
                    text: "Voluntad"
                Label:
                    pos_hint: {'center_x':0.5, 'center_y':0.3}
                    font_size:'20sp'
                    text: root.obtener_fecha()
        RelativeLayout:
            size_hint: 1,0.6
            GridLayout:
                cols: 6
                GridLayout:
                    cols: 1
                    BackgroundLabel:
                        background_color: 0.5, 0.5, 0.8, 0.8
                        color: 0,0,0,1
                        text: "Ejercicio"
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_1
                        text: "Flexiones"
                        on_press: root.ir_a_modificar(root.ids.ejercicio_1.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_2
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_2.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_3
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_3.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_4
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_4.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_5
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_5.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_6
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_6.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_7
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_7.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_8
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_8.text)
                    Button:
                        background_color: 0,0,0,0.4
                        id: ejercicio_9
                        text: ""
                        on_press: root.ir_a_modificar(root.ids.ejercicio_9.text)
                GridLayout:
                    cols: 1
                    BackgroundLabel:
                        background_color: 0.5, 0.5, 0.8, 0.8
                        color: 0,0,0,1
                        id: repes
                        text: "Repeticiones"
                    Label:
                        id: repes_1
                        text: ""
                    Label:
                        id: repes_2
                        text: ""
                    Label:
                        id: repes_3
                        text: ""
                    Label:
                        id: repes_4
                        text: ""
                    Label:
                        id: repes_5
                        text: ""
                    Label:
                        id: repes_6
                        text: ""
                    Label:
                        id: repes_7
                        text: ""
                    Label:
                        id: repes_8
                        text: ""
                    Label:
                        id: repes_9
                        text: ""
                GridLayout:
                    cols: 1
                    BackgroundLabel:
                        background_color: 0.5, 0.5, 0.8, 0.8
                        color: 0,0,0,1
                        id: peso
                        text: "Peso [Kg]"
                    Label:
                        id: peso_1
                        text: ""
                    Label:
                        id: peso_2
                        text: ""
                    Label:
                        id: peso_3
                        text: ""
                    Label:
                        id: peso_4
                        text: ""
                    Label:
                        id: peso_5
                        text: ""
                    Label:
                        id: peso_6
                        text: ""
                    Label:
                        id: peso_7
                        text: ""
                    Label:
                        id: peso_8
                        text: ""
                    Label:
                        id: peso_9
                        text: ""
                GridLayout:
                    cols: 1
                    BackgroundLabel:
                        background_color: 0.5, 0.5, 0.8, 0.8
                        color: 0,0,0,1
                        id: serie_1
                        text: "1ª Serie"
                    Button:
                        id: serie_1_eje_1
                        text: "Done"
                        background_color: root.color("1", "Flexiones")
                        #background_color: root.color("1",root.ids.ejercicio_1.text)
                        on_press: root.done("1", root.ids.ejercicio_1.text,"serie_1_eje_1")
                    Button:
                        id: serie_1_eje_2
                        text: "Done"
                        background_color: root.color("1", "Martillo")
                        on_press: root.done("1", root.ids.ejercicio_2.text,"serie_1_eje_2")
                    Button:
                        id: serie_1_eje_3
                        text: "Done"
                        background_color: root.color("1", "Sentadillas")
                        on_press: root.done("1", root.ids.ejercicio_3.text,"serie_1_eje_3")
                    Button:
                        id: serie_1_eje_4
                        text: "Done"
                        background_color: root.color("1", "Hombro")
                        on_press: root.done("1", root.ids.ejercicio_4.text,"serie_1_eje_4")
                    Button:
                        id: serie_1_eje_5
                        text: "Done"
                        background_color: root.color("1", "Remo")
                        on_press: root.done("1", root.ids.ejercicio_5.text,"serie_1_eje_5")
                    Button:
                        id: serie_1_eje_6
                        text: "Done"
                        background_color: root.color("1", "Abdominales")
                        on_press: root.done("1", root.ids.ejercicio_6.text,"serie_1_eje_6")
                    Button:
                        id: serie_1_eje_7
                        text: "Done"
                        background_color: root.color("1", "Lumbares")
                        on_press: root.done("1", root.ids.ejercicio_7.text,"serie_1_eje_7")
                    Button:
                        id: serie_1_eje_8
                        text: "Done"
                        background_color: root.color("1", "Jabs")
                        on_press: root.done("1", root.ids.ejercicio_8.text,"serie_1_eje_8")
                    Button:
                        id: serie_1_eje_9
                        text: "Done"
                        background_color: root.color("1", "Triceps")
                        on_press: root.done("1", root.ids.ejercicio_9.text,"serie_1_eje_9")
                GridLayout:
                    cols: 1
                    BackgroundLabel:
                        background_color: 0.5, 0.5, 0.8, 0.8
                        color: 0,0,0,1
                        id: serie_2
                        text: "2ª Serie"
                    Button:
                        id: serie_2_eje_1
                        text: "Done"
                        background_color: root.color("2", "Flexiones")
                        on_press: root.done("2", root.ids.ejercicio_1.text,"serie_2_eje_1")
                    Button:
                        id: serie_2_eje_2
                        text: "Done"
                        background_color: root.color("2", "Martillo")
                        on_press: root.done("2", root.ids.ejercicio_2.text,"serie_2_eje_2")
                    Button:
                        id: serie_2_eje_3
                        text: "Done"
                        background_color: root.color("2", "Sentadillas")
                        on_press: root.done("2", root.ids.ejercicio_3.text,"serie_2_eje_3")
                    Button:
                        id: serie_2_eje_4
                        text: "Done"
                        background_color: root.color("2", "Hombro")
                        on_press: root.done("2", root.ids.ejercicio_4.text,"serie_2_eje_4")
                    Button:
                        id: serie_2_eje_5
                        text: "Done"
                        background_color: root.color("2", "Remo")
                        on_press: root.done("2", root.ids.ejercicio_5.text,"serie_2_eje_5")
                    Button:
                        id: serie_2_eje_6
                        text: "Done"
                        background_color: root.color("2", "Abdominales")
                        on_press: root.done("2", root.ids.ejercicio_6.text,"serie_2_eje_6")
                    Button:
                        id: serie_2_eje_7
                        text: "Done"
                        background_color: root.color("2", "Lumbares")
                        on_press: root.done("2", root.ids.ejercicio_7.text,"serie_2_eje_7")
                    Button:
                        id: serie_2_eje_8
                        text: "Done"
                        background_color: root.color("2", "Jabs")
                        on_press: root.done("2", root.ids.ejercicio_8.text,"serie_2_eje_8")
                    Button:
                        id: serie_2_eje_9
                        text: "Done"
                        background_color: root.color("2", "Triceps")
                        on_press: root.done("2", root.ids.ejercicio_9.text,"serie_2_eje_9")
                        
                GridLayout:
                    cols: 1
                    BackgroundLabel:
                        background_color: 0.5, 0.5, 0.8, 0.8
                        color: 0,0,0,1
                        id: serie_3
                        text: "3ª Serie"
                    Button:
                        id: serie_3_eje_1
                        text: "Done"
                        background_color: root.color("3", "Flexiones")
                        on_press: root.done("3", root.ids.ejercicio_1.text,"serie_3_eje_1")  
                    Button:
                        id: serie_3_eje_2
                        text: "Done"
                        background_color: root.color("3", "Martillo")
                        on_press: root.done("3", root.ids.ejercicio_2.text,"serie_3_eje_2")  
                    Button:
                        id: serie_3_eje_3
                        text: "Done"
                        background_color: root.color("3", "Sentadillas")
                        on_press: root.done("3", root.ids.ejercicio_3.text,"serie_3_eje_3")
                    Button:
                        id: serie_3_eje_4
                        text: "Done"
                        background_color: root.color("3", "Hombro")
                        on_press: root.done("3", root.ids.ejercicio_4.text,"serie_3_eje_4")
                    Button:
                        id: serie_3_eje_5
                        text: "Done"
                        background_color: root.color("3", "Remo")
                        on_press: root.done("3", root.ids.ejercicio_5.text,"serie_3_eje_5")
                    Button:
                        id: serie_3_eje_6
                        text: "Done"
                        background_color: root.color("3", "Abdominales")
                        on_press: root.done("3", root.ids.ejercicio_6.text,"serie_3_eje_6")
                    Button:
                        id: serie_3_eje_7
                        text: "Done"
                        background_color: root.color("3", "Lumbares")
                        on_press: root.done("3", root.ids.ejercicio_7.text,"serie_3_eje_7")
                    Button:
                        id: serie_3_eje_8
                        text: "Done"
                        background_color: root.color("3", "Jabs")
                        on_press: root.done("3", root.ids.ejercicio_8.text,"serie_3_eje_8")
                    Button:
                        id: serie_3_eje_9
                        text: "Done"
                        background_color: root.color("3", "Triceps")
                        on_press: root.done("3", root.ids.ejercicio_9.text,"serie_3_eje_9")
        RelativeLayout:
            size_hint: 1,0.15
            GridLayout:
                cols: 3
                RelativeLayout:
                    Button:
                        id: submit_btn
                        text: "Volver"
                        on_press: root.volver()
                        size_hint: 0.7,0.3
                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                RelativeLayout:
                    Button:
                        id: submit_btn
                        text: "Submit"
                        on_press: root.submit()
                        size_hint: 0.9,0.5
                        pos_hint: {'center_x':0.5, 'center_y':0.5}
                        font_size:'20sp'
                RelativeLayout:
                    Button:
                        id: resetear_btn
                        text: "Resetear"
                        on_press: root.resetear()
                        size_hint: 0.7,0.3
                        pos_hint: {'center_x':0.5, 'center_y':0.5}
        RelativeLayout:
            size_hint: 1,0.05
            GridLayout:
                cols: 1
                pos_hint: {'center_x':0.5, 'center_y':0.6}
                Label:
                    id: infor
                    text: ""

<SubmittedScreen>:
    Image:
        source: "Images/deer_silhouette_animal.jpg"
        opacity: 0.5
    GridLayout:
        cols:1
        RelativeLayout:
            size_hint: 0.5,0.3
            Label:
                text: "Enhorabuena"
                font_size:'60sp'
                pos_hint: {'center_x':0.5, 'center_y':0.8}
        RelativeLayout:
            size_hint: 1,0.5
            GridLayout:
                cols:2
                GridLayout:
                    cols:1
                    Label:
                        id: 1
                        font_size:'30sp'
                        text: ""
                    Label:
                        id: 2
                        font_size:'30sp'
                        text: ""
                    Label:
                        id: 3
                        font_size:'30sp'
                        text: ""
                GridLayout:
                    cols: 1
                    Label:
                        id: ratio_sesion
                        font_size:'30sp'
                        text: ""
                    Label:
                        id: porcentaje
                        font_size:'70sp'
                        text: ""
                        color: 1, 1, 1, 1
                    
        RelativeLayout:
            size_hint: 1,0.2
            Button:
                id: inicio_btn
                text: "Volver a Home Page"
                size_hint: 0.25,0.25
                pos_hint: {'center_x':0.5, 'center_y':0.6}
                on_press: root.volver_a_inicio()    


<ModificarEjercicio>:
    Image:
        source: "Images/leaf_drops_macro.jpg"
        opacity: 0.5
    GridLayout:
        cols:1
        padding: 15, 15
        GridLayout:
            cols:2
            padding: 15, 15
            GridLayout:
                cols:1
                padding: 15, 15
                Label:
                    text: "Repeticiones"
                    font_size:'25sp'
                TextInput:
                    id: repes
                    text: ""
            GridLayout:
                cols:1
                padding: 15, 15
                Label:
                    text: "Peso [kg]"
                    font_size:'25sp'
                TextInput:
                    id: peso
                    text: ""
        GridLayout:
            cols: 1
            padding: 15, 15
            RelativeLayout:
                Button:
                    text: "Modificar"
                    on_press: root.modificar_valor()
                    size_hint: 0.5,0.5
                    pos_hint: {'center_x':0.5, 'center_y':0.6}
                    padding: 15, 15
                    font_size:'30sp'
            RelativeLayout:
                Button:
                    text: "Volver a la Sesión"
                    on_press: root.volver_a_sesion()
                    size_hint: 0.2,0.2
                    pos_hint: {'center_x':0.5, 'center_y':0.6}
                    padding: 15, 15
                    



